<!doctype html>
{% load static %}
{% load i18n %}
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title>{{ book.name }}</title>
	<link href="//fonts.googleapis.com/css?family=Inter:100,200,300,400,500,600,700,800,900" rel="stylesheet">
	<link href="//fonts.googleapis.com/css?family=Libre+Baskerville:400,700" rel="stylesheet">
	<link rel="stylesheet" href="{% static "css/theme.css" %}" type="text/css" media="all">
	<link rel="stylesheet" href="{% static "css/font-awesome.css" %}" type="text/css" media="all">
	<link rel="stylesheet" href="{% static "css/front.css" %}" type="text/css" media="all">
	<link rel="stylesheet" href="{% static "css/myprestacomments.css" %}" type="text/css" media="all">
	<link rel="stylesheet" href="{% static "css/vews/front.css" %}" type="text/css" media="all">
	<link rel="stylesheet" href="{% static "css/psblog.css" %}" type="text/css" media="all">
	<link rel="stylesheet" href="{% static "css/lightbox.css" %}" type="text/css" media="all">
	<link rel="stylesheet" href="{% static "css/czcouponpop.css" %}" type="text/css" media="all">
	<link rel="stylesheet" href="{% static "css/views/front.css" %}" type="text/css" media="all">
	<link rel="stylesheet" href="{% static "css/jquery-ui.min.css" %}" type="text/css" media="all">
	<link rel="stylesheet" href="{% static "css/jquery.ui.theme.min.css" %}" type="text/css" media="all">
	<link rel="stylesheet" href="{% static "css/jquery.fancybox.css" %}" type="text/css" media="all">
	<link rel="stylesheet" href="{% static "css/nivo-slider.css" %}" type="text/css" media="all">
	<link rel="stylesheet" href="{% static "css/custom.css" %}" type="text/css" media="all">
	<link rel="stylesheet" href="{% static "css/index.css" %}">
	<link rel="stylesheet" href="{% static "css/loadingspinner.css" %}">
	<script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
	        integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
	      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
	      crossorigin="anonymous" referrerpolicy="no-referrer"/>

	<meta property="og:type" content="product">
	<meta property="og:title" content="{{ book.name }}">
	<meta property="og:site_name" content="Smart TUIT">
	<script type="text/javascript">
        var buttoncompare_title_add = "Add to Compare";
        var buttoncompare_title_remove = "Remove from Compare";
        var buttonwishlist_title_add = "Add to Wishlist";
        var buttonwishlist_title_remove = "Remove from WishList";
        var comparator_max_item = 3;
        var compared_products = [];
        var isLogged = false;
        var prestashop = {
            "cart": {
                "products": [],
                "totals": {
                    "total": {"type": "total", "label": "Total", "amount": 0, "value": "\u20ac0.00"},
                    "total_including_tax": {
                        "type": "total",
                        "label": "Total (tax incl.)",
                        "amount": 0,
                        "value": "\u20ac0.00"
                    },
                    "total_excluding_tax": {
                        "type": "total",
                        "label": "Total (tax excl.)",
                        "amount": 0,
                        "value": "\u20ac0.00"
                    }
                },
                "subtotals": {
                    "products": {"type": "products", "label": "Subtotal", "amount": 0, "value": "\u20ac0.00"},
                    "discounts": null,
                    "shipping": {"type": "shipping", "label": "Shipping", "amount": 0, "value": "Free"},
                    "tax": null
                },
                "products_count": 0,
                "summary_string": "0 items",
                "vouchers": {"allowed": 0, "added": []},
                "discounts": [],
                "minimalPurchase": 0,
                "minimalPurchaseRequired": ""
            },
            "currency": {"name": "Euro", "iso_code": "EUR", "iso_code_num": "978", "sign": "\u20ac"},
            "customer": {
                "lastname": null,
                "firstname": null,
                "email": null,
                "birthday": null,
                "newsletter": null,
                "newsletter_date_add": null,
                "optin": null,
                "website": null,
                "company": null,
                "siret": null,
                "ape": null,
                "is_logged": false,
                "gender": {"type": null, "name": null},
                "addresses": []
            },
            "language": {
                "name": "English (English)",
                "iso_code": "en",
                "locale": "en-US",
                "language_code": "en-us",
                "is_rtl": "0",
                "date_format_lite": "m\/d\/Y",
                "date_format_full": "m\/d\/Y H:i:s",
                "id": 1
            },
            "page": {
                "title": "",
                "canonical": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?id_category=9&controller=category&id_lang=1",
                "meta": {
                    "title": "Cooking",
                    "description": "The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable that it has a more-or-less normal distribution of letters.",
                    "keywords": "",
                    "robots": "index"
                },
                "page_name": "category",
                "body_classes": {
                    "lang-en": true,
                    "lang-rtl": false,
                    "country-DE": true,
                    "currency-EUR": true,
                    "layout-left-column": true,
                    "page-category": true,
                    "tax-display-enabled": true,
                    "category-id-9": true,
                    "category-Cooking": true,
                    "category-id-parent-2": true,
                    "category-depth-level-2": true
                },
                "admin_notifications": []
            },
            "shop": {
                "name": "Bookrow - Book Store",
                "logo": "\/prestashop\/PRS17\/PRS170418\/img\/demo-store-logo-1629801402.jpg",
                "stores_icon": "\/prestashop\/PRS17\/PRS170418\/img\/logo_stores.png",
                "favicon": "\/prestashop\/PRS17\/PRS170418\/img\/favicon.ico"
            },
            "urls": {
                "base_url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/",
                "current_url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?id_category=9&controller=category&id_lang=1",
                "shop_domain_url": "https:\/\/demo.codezeel.com",
                "img_ps_url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/",
                "img_cat_url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/c\/",
                "img_lang_url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/l\/",
                "img_prod_url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/p\/",
                "img_manu_url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/m\/",
                "img_sup_url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/su\/",
                "img_ship_url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/s\/",
                "img_store_url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/st\/",
                "img_col_url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/co\/",
                "img_url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/themes\/Bookrow\/assets\/img\/",
                "css_url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/themes\/Bookrow\/assets\/css\/",
                "js_url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/themes\/Bookrow\/assets\/js\/",
                "pic_url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/upload\/",
                "pages": {
                    "address": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=address",
                    "addresses": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=addresses",
                    "authentication": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=authentication",
                    "cart": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=cart",
                    "category": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=category",
                    "cms": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=cms",
                    "contact": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=contact",
                    "discount": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=discount",
                    "guest_tracking": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=guest-tracking",
                    "history": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=history",
                    "identity": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=identity",
                    "index": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php",
                    "my_account": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=my-account",
                    "order_confirmation": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=order-confirmation",
                    "order_detail": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=order-detail",
                    "order_follow": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=order-follow",
                    "order": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=order",
                    "order_return": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=order-return",
                    "order_slip": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=order-slip",
                    "pagenotfound": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=pagenotfound",
                    "password": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=password",
                    "pdf_invoice": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=pdf-invoice",
                    "pdf_order_return": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=pdf-order-return",
                    "pdf_order_slip": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=pdf-order-slip",
                    "prices_drop": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=prices-drop",
                    "product": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=product",
                    "search": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=search",
                    "sitemap": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=sitemap",
                    "stores": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=stores",
                    "supplier": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=supplier",
                    "register": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=authentication&create_account=1",
                    "order_login": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?controller=order&login=1"
                },
                "alternative_langs": {
                    "en-us": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?id_category=9&controller=category&id_lang=1",
                    "fr-fr": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?id_category=9&controller=category&id_lang=3",
                    "es-es": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?id_category=9&controller=category&id_lang=4",
                    "de-de": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?id_category=9&controller=category&id_lang=5",
                    "it-it": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?id_category=9&controller=category&id_lang=6",
                    "pl-pl": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?id_category=9&controller=category&id_lang=7",
                    "nl-nl": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?id_category=9&controller=category&id_lang=8",
                    "ru-ru": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?id_category=9&controller=category&id_lang=9",
                    "ar-sa": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?id_category=9&controller=category&id_lang=10"
                },
                "theme_assets": "\/prestashop\/PRS17\/PRS170418\/themes\/Bookrow\/assets\/",
                "actions": {"logout": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?mylogout="},
                "no_picture_image": {
                    "bySize": {
                        "cart_default": {
                            "url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/p\/en-default-cart_default.jpg",
                            "width": 85,
                            "height": 123
                        },
                        "small_default": {
                            "url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/p\/en-default-small_default.jpg",
                            "width": 85,
                            "height": 123
                        },
                        "home_default": {
                            "url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/p\/en-default-home_default.jpg",
                            "width": 277,
                            "height": 400
                        },
                        "medium_default": {
                            "url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/p\/en-default-medium_default.jpg",
                            "width": 585,
                            "height": 844
                        },
                        "large_default": {
                            "url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/p\/en-default-large_default.jpg",
                            "width": 693,
                            "height": 1000
                        }
                    },
                    "small": {
                        "url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/p\/en-default-cart_default.jpg",
                        "width": 85,
                        "height": 123
                    },
                    "medium": {
                        "url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/p\/en-default-home_default.jpg",
                        "width": 277,
                        "height": 400
                    },
                    "large": {
                        "url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/img\/p\/en-default-large_default.jpg",
                        "width": 693,
                        "height": 1000
                    },
                    "legend": ""
                }
            },
            "configuration": {
                "display_taxes_label": true,
                "display_prices_tax_incl": true,
                "is_catalog": false,
                "show_prices": true,
                "opt_in": {"partner": true},
                "quantity_discount": {"type": "discount", "label": "Discount"},
                "voucher_enabled": 0,
                "return_enabled": 0
            },
            "field_required": [],
            "breadcrumb": {
                "links": [{
                    "title": "Home",
                    "url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php"
                }, {
                    "title": "Cooking",
                    "url": "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?id_category=9&controller=category&id_lang=1"
                }], "count": 2
            },
            "link": {"protocol_link": "https:\/\/", "protocol_content": "https:\/\/"},
            "time": 1706004804,
            "static_token": "8bd9f42887793a736c2d38fd8a0dceff",
            "token": "ef790335294386fee1fcfae858c954d8"
        };
        var productcompare_add = "The product has been added to list compare";
        var productcompare_max_item = "You cannot add more than 3 product(s) to the product comparison";
        var productcompare_remove = "The product was successfully removed from list compare";
        var productcompare_url = "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?fc=module&module=stfeature&controller=productscompare&id_lang=1";
        var productcompare_viewlistcompare = "View list compare";
        var psr_icon_color = "#F19D76";
        var wishlist_add = "The product was successfully added to your wishlist";
        var wishlist_cancel_txt = "Cancel";
        var wishlist_confirm_del_txt = "Delete selected item?";
        var wishlist_del_default_txt = "Cannot delete default wishlist";
        var wishlist_email_txt = "Email";
        var wishlist_loggin_required = "You must be logged in to manage your wishlist";
        var wishlist_ok_txt = "Ok";
        var wishlist_quantity_required = "You must enter a quantity";
        var wishlist_remove = "The product was successfully removed from your wishlist";
        var wishlist_reset_txt = "Reset";
        var wishlist_send_txt = "Send";
        var wishlist_send_wishlist_txt = "Send wishlist";
        var wishlist_url = "https:\/\/demo.codezeel.com\/prestashop\/PRS17\/PRS170418\/index.php?fc=module&module=stfeature&controller=mywishlist&id_lang=1";
        var wishlist_viewwishlist = "View your wishlist";
	</script>
</head>
<body id="product"
      class="lang-en country-de currency-eur layout-full-width page-product tax-display-enabled product-id-1 product-amor-es-relacion-kevelation product-id-category-4 product-id-manufacturer-3 product-id-supplier-0 product-on-sale product-available-for-order">
<main id="page">
	<!-- header -->
<header id="header">
		<div class="header-banner">
		</div>
		<div class="header-top">
			<div class="header_logo">
				<a href="{% url "main" %}">
					<img class="logo img-responsive" src="{% static "img/logo.svg" %}" alt="smarttuit logo">
				</a>                
			</div>
        
             <div id="search_widget" class="col-lg-4 col-md-5 col-sm-12 search-widget" data-search-controller-url="{% url 'search' %}">
                <span class="search_button"></span>
                <div class="search_toggle">
                    <form method="get" action="{% url 'search' %}">
                        <input type="hidden" name="controller" value="search">
                        <input type="text" name="q" value="{{ request.GET.q|default_if_none:'' }}" placeholder="Search our catalog">
                        <button type="submit"></button>
                        <button type="button" class="voice-search-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                                <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/>
                            </svg>
                        </button>
                    </form>
                </div>
            </div>
            <script>
            document.addEventListener("DOMContentLoaded", function () {
                if (window.voiceSearchInitialized) return;
                window.voiceSearchInitialized = true;
            
                const voiceSearchBtn = document.querySelector(".voice-search-btn");
                const searchInput = document.querySelector("input[name='q']");
                const searchForm = searchInput.closest("form");
            
                if (!voiceSearchBtn || !searchInput || !searchForm) {
                    console.error("❌ Qidiruv elementi topilmadi.");
                    return;
                }
            
                let recognition;
                let isRecording = false;
            
                voiceSearchBtn.addEventListener("click", function () {
                    if (isRecording) {
                        console.warn("⏳ Ovozli qidiruv allaqachon ishlayapti...");
                        return;
                    }
            
                    window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            
                    if (!window.SpeechRecognition) {
                        alert("❌ Brauzeringiz ovozli qidiruvni qo‘llab-quvvatlamaydi.");
                        return;
                    }
            
                    recognition = new SpeechRecognition();
                    recognition.lang = "uz-UZ"; // **FAQAT O‘ZBEKCHA QIDIRUV**
                    recognition.interimResults = false;
                    recognition.maxAlternatives = 1;
            
                    isRecording = true;
                    voiceSearchBtn.classList.add("listening"); // Tugmaga effekt qo‘shish
                    recognition.start();
                    console.log("🎤 Ovoz yozish boshlandi...");
            
                    recognition.onresult = function (event) {
                        let transcript = event.results[0][0].transcript;
                        console.log("✅ Natija:", transcript);
                        searchInput.value = transcript;
                        isRecording = false;
                        voiceSearchBtn.classList.remove("listening"); // Effektni olib tashlash
            
                        // **Foydalanuvchi sayti qaysi tilda bo‘lsa, shu tilda qidiruv yuboriladi**
                        let langPrefix = document.documentElement.lang || "uz";
                        searchForm.action = `/${langPrefix}/search/`;
                        searchForm.submit();
                    };
            
                    recognition.onspeechend = function () {
                        console.log("🎤 Ovoz yozish tugadi.");
                        isRecording = false;
                        voiceSearchBtn.classList.remove("listening"); // Effektni olib tashlash
                        recognition.stop();
                    };
            
                    recognition.onerror = function (event) {
                        console.error("❌ Ovozli qidiruvda xatolik:", event.error);
                        alert("❌ Ovozli qidiruvni amalga oshirib bo‘lmadi! (" + event.error + ")");
                        isRecording = false;
                        voiceSearchBtn.classList.remove("listening"); // Effektni olib tashlash
                    };
                });
            });
            </script>
            

            <style>
                .header_logo {
                    display: flex;
                    justify-content: center; /* GORIZONTAL MARKAZ */
                    align-items: center; /* VERTIKAL MARKAZ */
                    height: 90px; /* Header balandligini o'zingizga moslashtiring */
                }
                
                .logo {
                    max-height: 60px; /* Logoning maksimal balandligi */
                    width: auto; /* Proportsiyani saqlaydi */
                }
                   .listening {
                    color: white !important;
                    animation: pulse 1s infinite;
                }
                
                @keyframes pulse {
                    0% { opacity: 1; }
                    50% { opacity: 0.5; }
                    100% { opacity: 1; }
                }
                /* Dropdown menyular `z-index` ni oshirish */
                .dropdown-menu {
                    position: absolute;
                    z-index: 1050; /* Bootstrap default: 1000 */
                    background-color: white;
                }
                
                /* Qidiruv tugmasini ochish/yopish uchun toggling */
                .search_toggle {
                    display: none;
                    position: absolute;
                    top: 40px;
                    right: 0;
                    background: #fff;
                    padding: 10px;
                    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
                    z-index: 1000;
                }
                .search_toggle.active {
                    display: block;
                }

            </style>
            
            <style>
                /* Qidiruv vidjeti uchun maxsus CSS */
                #search_widget {
                    position: relative;
                    width: 100%;
                    max-width: 400px;
                    margin: auto;
                }
            
                #search_widget .search_toggle {
                    display: flex;
                    align-items: center;
                    background: #f8f9fa;
                    border-radius: 8px;
                    padding: 5px;
                    border: 1px solid #ddd;
                }
            
                #search_widget input[type="text"] {
                    flex: 1;
                    border: none;
                    outline: none;
                    padding: 8px;
                    font-size: 16px;
                }
            
                #search_widget button {
                    background: #ff0000;
                    border: none;
                    color: white;
                    padding: 8px 12px;
                    border-radius: 4px;
                    cursor: pointer;
                }
            
                #search_widget button:hover {
                    background: #b30000;
                }
                #search_widget {
                    position: relative;
                    width: 100%;
                    max-width: 400px;
                    margin: auto;
                }
                
                #search_widget .search_toggle {
                    display: flex;
                    align-items: center;
                    background: #f8f9fa;
                    border-radius: 8px;
                    padding: 5px;
                    border: 1px solid #ddd;
                }
                
                #search-input {
                    flex: 1;
                    border: none;
                    outline: none;
                    padding: 8px;
                    font-size: 16px;
                }
                
                #search-form button[type="submit"] {
                    background: #ff0026;
                    border: none;
                    color: white;
                    padding: 8px 12px;
                    border-radius: 4px;
                    cursor: pointer;
                }
                
                #search-form button[type="submit"]:hover {
                    background: #b30000;
                }
                
                .voice-search-btn {
                    border: none;
                    background-color: transparent;
                    cursor: pointer;
                    padding: 0;
                    margin-left: 5px;
                }
                .notifications-wrapper {
                    position: absolute;
                    top: 40px; /* Logoning ustida chiqib qolmasligi uchun */
                    right: 50px; /* O‘ng tomonda chiqishi uchun */
                }
                
                .notification-icon {
                    font-size: 20px;
                    text-decoration: none;
                    position: relative;
                }
                
                .notification-badge {
                    position: absolute;
                    top: -10px;
                    right: -10px;
                    background: red;
                    color: white;
                    border-radius: 50%;
                    padding: 3px 7px;
                    font-size: 14px;
                }
                /* === Mobil versiya uchun (max 768px) === */
                @media (max-width: 768px) {
                    .notifications-wrapper {
                        top: 15px; /* Biroz pastroqda chiqishi uchun */
                        right: 70px; /* O‘ngga yaqinroq joylashishi uchun */
                    }
                
                    .notification-icon {
                        font-size: 18px; /* Mobil ekranda biroz kichikroq */
                    }
                
                    .notification-badge {
                        top: -5px;
                        right: -5px;
                        font-size: 12px;
                        padding: 2px 5px;
                    }
                }
            </style>
            <div class="col-md-4 text-center notifications-wrapper">
                <a href="{% url 'notifications' %}" class="notification-icon">
                    📩  
                    {% if unread_notifications_count > 0 %}
                        <span class="notification-badge text-danger">({{ unread_notifications_count }})</span>
                    {% endif %}
                </a>
            </div>

            
			<!-- /Block search module TOP -->
			<div class="d-flex align-items-center gap-3">
                <div class="user-info dropdown js-dropdown">
                    <span class="user-info-title expand-more _gray-darker" data-toggle="dropdown">
                        <span class="account_text">
                            {% if user.is_authenticated %}
                                {{ user.first_name }} {{ user.last_name }}
                            {% else %}
                                {% trans 'Mening hisobim' %}
                            {% endif %}
                        </span>
                    </span>
                    <ul class="dropdown-menu">
                        {% if user.is_authenticated %}
                            <li><a href="{% url 'profile' %}" title="Profile">{% trans 'Profil' %}</a></li>
                            <li><a href="{% url 'logout' %}" title="Logout">{% trans 'Chiqish' %}</a></li>
                        {% else %}
                            <li><a class="dropdown-item" href="{% url 'login' %}" title="Log in to your customer account" rel="nofollow"><span>{% trans 'Kirish' %}</span></a></li>
                            <li><a href="{% url 'register' %}" data-link-action="display-register-form">{% trans "Ro'yxatdan o'tish" %}</a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>

			<div class="language-selector" id="language-selector">
				<div class="language_block">
					{% get_current_language as CURRENT_LANGUAGE %}
					{% get_available_languages as AVAILABLE_LANGUAGES %}
					{% get_language_info_list for AVAILABLE_LANGUAGES as languages %}
					<span class="language-title">{% trans "Til" %}:</span>
					<ul>
						{% for language in languages %}
							<li  {% if language.code == CURRENT_LANGUAGE %} class="current"{% endif %}>
								<a href="/{{ language.code }}/" class="language-item">{{ language.name_local }}</a>
							</li><br>
						{% endfor %}
					</ul>
				</div>
			</div>
			<div class="header-top-inner">
				<div class="text-xs-left mobile hidden-lg-up mobile-menu">
					<div class="menu-icon">
						<div class="cat-title">Menu</div>
					</div>
					<div id="mobile_top_menu_wrapper" class="row hidden-lg-up">
						<div class="mobile-menu-inner">
							<div class="menu-icon">
								<div class="cat-title">Menu</div>
							</div>
							<div class="js-top-menu mobile" id="_mobile_top_menu"></div>
						</div>
					</div>
				</div>
				<div class="menu col-lg-12 js-top-menu position-static hidden-md-down" id="_desktop_top_menu">
					<ul class="top-menu container" id="top-menu" data-depth="0">
                        <li class="category" id="category-search">
                            <a class="dropdown-item" href="{% url 'searching_dissertations' %}" data-depth="0">
                                {% trans 'Dissertatsiyalar bazasi' %}
                            </a>
                        </li>
                        {% for category in categories %}
                            <li class="category" id="category-{{ category.id }}">
                                <a class="dropdown-item" href="{% url 'category' category.id %}" data-depth="0">
                                    {{ category.name }}
                                </a>
                            </li>
                        {% endfor %}
                    </ul>
				</div>
			</div>
		</div>
	</header>	<!-- end header -->
	<aside id="notifications">
		<div class="container">
		</div>
	</aside>
	<section id="wrapper">
		<nav data-depth="2" class="breadcrumb">
            <div id="loading-spinner" class="spinner-container" style="display: none;">
                <div class="spinner"></div>
            </div>
            <div class="container">
                <form action="{% url 'search' %}" id="search-form">
                    <input name="q" id="search-input" type="text" placeholder="Qidirish..." autocomplete="off" autofocus>
                    <button type="submit"></button>
                    <button type="button" id="start-recording"><i id="mic-icon" class="fas fa-microphone"></i></button>
                    <button type="button" id="stop-recording" style="display: none;"><i class="fas fa-microphone-slash"></i></button>
                </form>
                <p class="info"></p>
            </div>
        </nav>
        
        <script>
        document.getElementById("search-form").addEventListener("submit", function (event) {
            event.preventDefault();
            
            let query = document.getElementById("search-input").value.trim();
            if (!query) {
                alert("❌ Iltimos, qidiruv so‘rovini kiriting!");
                return;
            }
        
            document.getElementById("loading-spinner").style.display = "block";
        
            let api_url = "/ru/search/?q=" + encodeURIComponent(query);
            
            fetch(api_url)
                .then(response => response.text())
                .then(html => {
                    document.getElementById("loading-spinner").style.display = "none";
                    document.querySelector("body").innerHTML = html; // Sahifani yangilaydi
                })
                .catch(error => {
                    document.getElementById("loading-spinner").style.display = "none";
                    console.error("Xato:", error);
                });
        });
        
        // Ovozli qidiruvni ishga tushirish
        let recognition;
        document.getElementById("start-recording").addEventListener("click", function () {
            if (!('webkitSpeechRecognition' in window)) {
                alert("❌ Sizning brauzeringiz ovozli qidiruvni qo‘llab-quvvatlamaydi.");
                return;
            }
        
            recognition = new webkitSpeechRecognition();
            recognition.lang = "uz-UZ";
            recognition.interimResults = false;
            recognition.maxAlternatives = 1;
        
            recognition.start();
            document.getElementById("mic-icon").classList.add("listening");
            document.getElementById("stop-recording").style.display = "inline";
            document.getElementById("start-recording").style.display = "none";
        
            recognition.onresult = function (event) {
                let transcript = event.results[0][0].transcript;
                document.getElementById("search-input").value = transcript;
            };
        
            recognition.onerror = function () {
                alert("❌ Ovozli qidiruvda xatolik yuz berdi!");
            };
        
            recognition.onend = function () {
                document.getElementById("mic-icon").classList.remove("listening");
                document.getElementById("stop-recording").style.display = "none";
                document.getElementById("start-recording").style.display = "inline";
            };
        });
        
        // Ovozli qidiruvni to‘xtatish
        document.getElementById("stop-recording").addEventListener("click", function () {
            if (recognition) {
                recognition.stop();
            }
        });
        </script>
		<div class="container">
            <div id="columns_inner">
                <div id="content-wrapper">
                    <section id="main" itemscope itemtype="https://schema.org/Product">
                        <div class="row">
                            <section id="main">
                                <header class="page-header d-flex justify-content-between align-items-center">
                                    <h1>{% trans "Bildirishnomalar" %}</h1>
                                    {% if notifications %}
                                        <button id="mark-all-read" class="btn btn-danger">
                                            📩 {% trans "Barchasini o‘qilgan qilish" %}
                                        </button>
                                    {% endif %}
                                </header>
                            
                                <section id="content" class="page-content">
                                    <aside id="notifications">
                                        <div id="notifications-list">
                                            {% if notifications %}
                                                <ul class="list-group">
                                                    {% for notification in notifications %}
                                                        <li id="notification-{{ notification.id }}" 
                                                            class="list-group-item d-flex justify-content-between align-items-center" 
                                                            {% if notification.book %}
                                                                onclick="window.location.href='{% url 'book' notification.book.id %}'" 
                                                                style="cursor: pointer;"
                                                            {% endif %}
                                                        >
                                                            <span>{{ notification.message }}</span>
                                                            {% if notification.book %}
                                                                (<a href="{% url 'book' notification.book.id %}" class="text-decoration-none">{% trans "Ko‘rish" %}</a>)
                                                            {% endif %}
                                                            <button class="mark-as-read btn btn-outline-success btn-sm" data-id="{{ notification.id }}">
                                                                <i class="bi bi-check-circle-fill"></i> {% trans "O‘qildi" %}
                                                            </button>
                                                        </li>
                                                    {% endfor %}
                                                </ul>
                                            {% else %}
                                                <p class="text-center text-muted mt-3">{% trans "Sizda yangi bildirishnomalar yo‘q" %}</p>
                                            {% endif %}
                                        </div>
                                    </aside>
                                </section>
                            </section>

                            <!-- Bootstrap va AJAX Qo‘llash -->
                           <script>
                            document.addEventListener("DOMContentLoaded", function () {
                                // ✅ Har bir bildirishnomani o‘qilgan qilish
                                document.querySelectorAll('.mark-as-read').forEach(button => {
                                    button.addEventListener('click', function () {
                                        let notificationId = this.getAttribute('data-id');
                                        fetch(`/notifications/mark-read/${notificationId}/`, { 
                                            method: 'POST', 
                                            headers: { 
                                                'X-CSRFToken': getCSRFToken(),
                                                'Content-Type': 'application/json'
                                            } 
                                        })
                                        .then(response => response.json())
                                        .then(data => {
                                            if (data.success) {
                                                let li = document.getElementById(`notification-${notificationId}`);
                                                li.remove();  // ✅ Sahifadagi bildirishnomani o‘chirish
                            
                                                // 🔴 Agar hammasi o‘qilsa, "Sizda yangi bildirishnomalar yo‘q" chiqsin
                                                if (document.querySelectorAll('.list-group-item').length === 0) {
                                                    document.getElementById("notifications-list").innerHTML = 
                                                        `<p class="text-center text-muted mt-3">{% trans "Sizda yangi bildirishnomalar yo‘q" %}</p>`;
                                                }
                                            }
                                        });
                                    });
                                });
                            
                                // ✅ Barcha bildirishnomalarni o‘qilgan qilish
                                document.getElementById('mark-all-read')?.addEventListener('click', function () {
                                    fetch(`/notifications/mark-all-read/`, { 
                                        method: 'POST', 
                                        headers: { 
                                            'X-CSRFToken': getCSRFToken(),
                                            'Content-Type': 'application/json'
                                        } 
                                    })
                                    .then(response => response.json())
                                    .then(data => {
                                        if (data.success) {
                                            document.getElementById("notifications-list").innerHTML = 
                                                `<p class="text-center text-muted mt-3">{% trans "Sizda yangi bildirishnomalar yo‘q" %}</p>`;
                                        }
                                    });
                                });
                            
                                // ✅ CSRF Token olish uchun yordamchi funksiya
                                function getCSRFToken() {
                                    let cookieValue = null;
                                    let cookies = document.cookie.split(';');
                                    for (let i = 0; i < cookies.length; i++) {
                                        let cookie = cookies[i].trim();
                                        if (cookie.startsWith('csrftoken=')) {
                                            cookieValue = cookie.substring('csrftoken='.length, cookie.length);
                                            break;
                                        }
                                    }
                                    return cookieValue;
                                }
                            });
                            </script>


                        </div>
                    </section>
                </div>
            </div>
        </div>

	</section>
	<!-- footer  -->
	<footer id="footer">
		<div class="footer-before">
			<div class="container">
			</div>
		</div>
		<div class="footer-container">
			<div class="container">
				<div class="row footer">
					<div id="czfootercmsblock" class="footer-cms-block col-md-4 links block">
						<div id="footerlogo">
							<div class="footerdiv">
								<div class="footerlogo1">
                                    <img src="/static/img/logo.svg" alt="Company Logo">
                                </div>
								<div class="footerdesc">{% trans "Oliy ta'lim muassasalarining yagona elektron kutubxona axborot tizimi" %}</div>
							</div>
						</div>
					</div>
					<div class="col-md-4 links block">
						<h3 class="h3 hidden-md-down">{% trans "Bo'limlar" %}</h3>
						<div class="title h3 block_title hidden-lg-up" data-target="#footer_sub_menu_91655"
						     data-toggle="collapse">
							<span class="">{% trans "Bo'limlar" %}</span>
							<span class="pull-xs-right">
                          <span class="navbar-toggler collapse-icons">
                          <i class="fa-icon add"></i>
                          <i class="fa-icon remove"></i>
                          </span>
                          </span>
						</div>
						<ul id="footer_sub_menu_91655" class="collapse block_content">

							<li>
								<a
										id="link-product-page-new-products-1"
										class="cms-page-link"
										href="#new-products"
										title="Our new products">
									{% trans 'Yangiliklar' %}
								</a>
							</li>
							<li>
								<a
										id="link-product-page-best-sales-1"
										class="cms-page-link"
										href="#best-sales"
										title="Our best sales">
									{% trans "Bizning Jamoa" %}
								</a>
							</li>
							<li>
								<a
										id="link-static-page-contact-1"
										class="cms-page-link"
										href="#contact"
										title="Use our form to contact us">
									{% trans "Biz bilan bog'lanish" %}
								</a>
							</li>
							<li>
								<a
										id="link-static-page-sitemap-1"
										class="cms-page-link"
										href="#sitemap"
										title="Lost ? Find what your are looking for">
									{% trans "Biz haqimizda" %}
								</a>
							</li>
						</ul>
					</div>
					<div class="col-md-4 links block">
						<h3 class="h3 hidden-md-down">{% trans 'Resurslar' %}</h3>
						<div class="title h3 block_title hidden-lg-up" data-target="#footer_sub_menu_23580"
						     data-toggle="collapse">
							<span class="">{% trans 'Resurslar' %}</span>
							<span class="pull-xs-right">
                          <span class="navbar-toggler collapse-icons">
                          <i class="fa-icon add"></i>
                          <i class="fa-icon remove"></i>
                          </span>
                          </span>
						</div>
						<ul id="footer_sub_menu_23580" class="collapse block_content">
							<li>
								<a
										id="link-cms-page-1-2"
										class="cms-page-link"
										href="#"
										title="Our terms and conditions of delivery">
									{% trans 'Adabiyotlar' %}
								</a>
							</li>
							<li>
								<a
										id="link-cms-page-2-2"
										class="cms-page-link"
										href="#"
										title="Legal notice">
									{% trans 'Maqolalar' %}
								</a>
							</li>
							<li>
								<a
										id="link-cms-page-3-2"
										class="cms-page-link"
										href="#"
										title="Our terms and conditions of use">
									{% trans 'Dissertatsiyalar' %}
								</a>
							</li>
							<li>
								<a
										id="link-cms-page-4-2"
										class="cms-page-link"
										href="#"
										title="Learn more about us">
									{% trans 'Monografiyalar' %}
								</a>
							</li>

						</ul>
					</div>
					<div class="block-contact col-md-4 links wrapper">
						<h3 class="text-uppercase block-contact-title hidden-sm-down"><a href="#stores">Bog'lanish</a>
						</h3>
						<div class="title clearfix hidden-md-up" data-target="#block-contact_list"
						     data-toggle="collapse">
							<span class="h3">{% trans "Bog'lanish" %}</span>
							<span class="pull-xs-right">
                          <span class="navbar-toggler collapse-icons">
                          <i class="fa-icon add"></i>
                          <i class="fa-icon remove"></i>
                          </span>
                          </span>
						</div>
						<ul id="block-contact_list" class="collapse">
							<li>
								<i class="fa fa-map-marker"></i>
								<span>{% trans "Manzil: Toshkent 100084, Amir Temur shox ko‘chasi 108 uy" %}</span>
							</li>
							<li>
								<i class="fa fa-phone"></i>
								<span>+998 90 716 10 67</span>
							</li>
							<li>
								<i class="fa fa-envelope-o"></i>
								<span>smarttuit@gmail.com</span>
							</li>
						</ul>
					</div>

			</div>
		</div>
		</div>
		<div class="footer-after">
			<div class="container">
				<!-- Block payment logo module -->

				<!-- /Block payment logo module -->

				<div class="copyright">
					<a class="_blank" href="">
						© 2024 - O‘zbekiston Respublikasi Oliy ta'lim, fan va innovatsiyalar vazirligi
					</a>
				</div>
			</div>
		</div>
		<a class="top_button" href="#" style="">&nbsp;</a>
	</footer>
	<!-- end footer  -->
</main>
<!-- jQuery va Bootstrap JS yuklash -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script type="text/javascript" src="{% static "js/core.js" %}"></script>
<script type="text/javascript" src="{% static "js/theme.js" %}"></script>
<script type="text/javascript" src="{% static "js/front.js" %}"></script>
<script type="text/javascript" src="{% static "js/jquery.rating.pack.js" %}"></script>
<script type="text/javascript" src="{% static "js/jquery.textareaCounter.plugin.js" %}"></script>
<script type="text/javascript" src="{% static "js/myprestacomments.js" %}"></script>
<script type="text/javascript" src="{% static "js/stfeature_compare.js" %}"></script>
<script type="text/javascript" src="{% static "js/stfeature_wishlist.js" %}"></script>
<script type="text/javascript" src="{% static "js/czcouponpop.js" %}"></script>
<script type="text/javascript" src="{% static "js/front.js" %}"></script>
<script type="text/javascript" src="{% static "js/jquery-ui.min.js" %}"></script>
<script type="text/javascript" src="{% static "js/jquery.fancybox.js" %}"></script>
<script type="text/javascript" src="{% static "js/ps_shoppingcart.js" %}"></script>
<script type="text/javascript" src="{% static "js/jquery.nivo.slider.js" %}"></script>
<script type="text/javascript" src="{% static "js/parallax.js" %}"></script>
<script type="text/javascript" src="{% static "js/owl.carousel.js" %}"></script>
<script type="text/javascript" src="{% static "js/totalstorage.js" %}"></script>
<script type="text/javascript" src="{% static "js/lightbox.js" %}"></script>
<script type="text/javascript" src="{% static "js/lazysizes.min.js" %}"></script>
<script type="text/javascript" src="{% static "js/custom.js" %}"></script>
<script src="{% static "js/index.js" %}"></script>
</body>
</html>